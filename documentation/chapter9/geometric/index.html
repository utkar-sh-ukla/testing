<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <base href="https://utkar-sh-ukla.github.io/testing/">
    <title>
        
Pgjdbc | Geometric Data Types

    </title><link rel="stylesheet" href="https://utkar-sh-ukla.github.io/testing/sass/main.2da49a37aa539f43ccc31a3550dc93716c502d3fd07a23d3f30387ed7dd9d366.css" integrity="sha256-LaSaN6pTn0PMwxo1UNyTcWxQLT/QeiPT8wOH7X3Z02Y=">
</head>

<body>
    <nav class="nav">
    
    <a href="/testing">Home</a>
    
    <a class="nav__item" href="/testing/development/" title="">Development</a>
    
    <a class="nav__item" href="/testing/download/" title="">Download</a>
    
    <a class="nav__item" href="/testing/documentation/" title="">Documentation</a>
    
    <a class="nav__item" href="/testing/community/" title="">Community</a>
    
</nav>
    <main>
        
<article>
    <h1>Geometric Data Types</h1>
    <p><p>PostgreSQL™ has a set of data types that can store geometric features into a
table. These include single points, lines, and polygons.  We support these types
in Java with the org.postgresql.geometric package. Please consult the Javadoc
mentioned in <a href="reading.html">Chapter 13, <em>Further Reading</em></a> for details of
available classes and features.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->
<strong>Example 9.1. Using the CIRCLE datatype JDBC</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.sql.*<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.postgresql.geometric.PGpoint<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.postgresql.geometric.PGcircle<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GeometricTest</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String args<span style="color:#f92672">[])</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        String url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;jdbc:postgresql://localhost:5432/test&#34;</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">(</span>Connection conn <span style="color:#f92672">=</span> DriverManager<span style="color:#f92672">.</span><span style="color:#a6e22e">getConnection</span><span style="color:#f92672">(</span>url<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">(</span>Statement stmt <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">createStatement</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
                stmt<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;CREATE TEMP TABLE geomtest(mycirc circle)&#34;</span><span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
            insertCircle<span style="color:#f92672">(</span>conn<span style="color:#f92672">);</span>
            retrieveCircle<span style="color:#f92672">(</span>conn<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insertCircle</span><span style="color:#f92672">(</span>Connection conn<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        PGpoint center <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PGpoint<span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">.</span><span style="color:#a6e22e">5</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">double</span> radius <span style="color:#f92672">=</span> 4<span style="color:#f92672">;</span>
        PGcircle circle <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PGcircle<span style="color:#f92672">(</span>center<span style="color:#f92672">,</span> radius<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">(</span>PreparedStatement ps <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">prepareStatement</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;INSERT INTO geomtest(mycirc) VALUES (?)&#34;</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
            ps<span style="color:#f92672">.</span><span style="color:#a6e22e">setObject</span><span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> circle<span style="color:#f92672">);</span>
            ps<span style="color:#f92672">.</span><span style="color:#a6e22e">executeUpdate</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">retrieveCircle</span><span style="color:#f92672">(</span>Connection conn<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">(</span>Statement stmt <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">createStatement</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">(</span>ResultSet rs <span style="color:#f92672">=</span> stmt<span style="color:#f92672">.</span><span style="color:#a6e22e">executeQuery</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SELECT mycirc, area(mycirc) FROM geomtest&#34;</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
                    PGcircle circle <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>PGcircle<span style="color:#f92672">)</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getObject</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
                    <span style="color:#66d9ef">double</span> area <span style="color:#f92672">=</span> rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getDouble</span><span style="color:#f92672">(</span>2<span style="color:#f92672">);</span>

                    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Center (X, Y) = (&#34;</span> <span style="color:#f92672">+</span> circle<span style="color:#f92672">.</span><span style="color:#a6e22e">center</span><span style="color:#f92672">.</span><span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, &#34;</span> <span style="color:#f92672">+</span> circle<span style="color:#f92672">.</span><span style="color:#a6e22e">center</span><span style="color:#f92672">.</span><span style="color:#a6e22e">y</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span><span style="color:#f92672">);</span>
                    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Radius = &#34;</span> <span style="color:#f92672">+</span> circle<span style="color:#f92672">.</span><span style="color:#a6e22e">radius</span><span style="color:#f92672">);</span>
                    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Area = &#34;</span> <span style="color:#f92672">+</span> area<span style="color:#f92672">);</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></p>
</article>

    </main>
    <hr>
    <footer>
    <div>
        <p>
            Copyright © 1996-2022 The PostgreSQL Global Development Group
        </p>
    </div>
</footer>

</body>

</html>