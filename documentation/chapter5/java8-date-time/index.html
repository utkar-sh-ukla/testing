<!doctype html><html><head><meta charset=utf-8><base href=http://localhost:1313/><title>Pgjdbc | Using Java 8 Date and Time classes</title><link rel=stylesheet href=http://localhost:1313/sass/main.4444731f7116386ab6822ca30bdfcce309f779d0e912deceb72a9585a99593b4.css integrity="sha256-RERzH3EWOGq2giyjC9/M4wn3edDpEt7OtyqVhamVk7Q="><link rel=icon href=favicon.ico type=image/x-icon><link rel="shortcut icon" href=favicon.ico type=image/x-icon></head><body><nav class=nav><a href=/>Home</a>
<a class=nav__item href=/development/>Development</a>
<a class=nav__item href=/download/>Download</a>
<a class=nav__item href=/documentation/>Documentation</a>
<a class=nav__item href=/community/>Community</a></nav><main><article><h1>Using Java 8 Date and Time classes</h1><p><p>The PostgreSQL™ JDBC driver implements native support for the
<a href=http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html>Java 8 Date and Time API</a>
(JSR-310) using JDBC 4.2.</p><p><strong>Table 5.1. Supported Java 8 Date and Time classes</strong></p><p>This is closely aligned with tables B-4 and B-5 of the JDBC 4.2 specification.
Note that <code>ZonedDateTime</code>, <code>Instant</code> and
<code>OffsetTime / TIME WITH TIME ZONE</code> are not supported. Also note
that all <code>OffsetDateTime</code> instances will have be in UTC (have offset 0).
This is because the backend stores them as UTC.</p><p><strong>Example 5.2. Reading Java 8 Date and Time values using JDBC</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>Statement st <span style=color:#f92672>=</span> conn<span style=color:#f92672>.</span><span style=color:#a6e22e>createStatement</span><span style=color:#f92672>();</span>
ResultSet rs <span style=color:#f92672>=</span> st<span style=color:#f92672>.</span><span style=color:#a6e22e>executeQuery</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;SELECT * FROM mytable WHERE columnfoo = 500&#34;</span><span style=color:#f92672>);</span>
<span style=color:#66d9ef>while</span> <span style=color:#f92672>(</span>rs<span style=color:#f92672>.</span><span style=color:#a6e22e>next</span><span style=color:#f92672>())</span>
<span style=color:#f92672>{</span>
    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Column 1 returned &#34;</span><span style=color:#f92672>);</span>
    LocalDate localDate <span style=color:#f92672>=</span> rs<span style=color:#f92672>.</span><span style=color:#a6e22e>getObject</span><span style=color:#f92672>(</span>1<span style=color:#f92672>,</span> LocalDate<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>));</span>
    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>localDate<span style=color:#f92672>);</span>
<span style=color:#f92672>}</span>
rs<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
st<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
</code></pre></div><p>For other data types simply pass other classes to <code>#getObject</code>.
Note that the Java data types needs to match the SQL data types in table 7.1.</p><p><strong>Example 5.3. Writing Java 8 Date and Time values using JDBC</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>LocalDate localDate <span style=color:#f92672>=</span> LocalDate<span style=color:#f92672>.</span><span style=color:#a6e22e>now</span><span style=color:#f92672>();</span>
PreparedStatement st <span style=color:#f92672>=</span> conn<span style=color:#f92672>.</span><span style=color:#a6e22e>prepareStatement</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;INSERT INTO mytable (columnfoo) VALUES (?)&#34;</span><span style=color:#f92672>);</span>
st<span style=color:#f92672>.</span><span style=color:#a6e22e>setObject</span><span style=color:#f92672>(</span>1<span style=color:#f92672>,</span> localDate<span style=color:#f92672>);</span>
st<span style=color:#f92672>.</span><span style=color:#a6e22e>executeUpdate</span><span style=color:#f92672>();</span>
st<span style=color:#f92672>.</span><span style=color:#a6e22e>close</span><span style=color:#f92672>();</span>
</code></pre></div></p></article></main><hr><footer><div><p>Copyright © 1996-2022 The PostgreSQL Global Development Group</p></div></footer></body></html>