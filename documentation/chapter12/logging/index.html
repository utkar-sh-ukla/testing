<!doctype html><html><head><meta charset=utf-8><link rel=preload href=/fonts/woff2/inria-sans-v14-latin-300.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/woff2/inria-sans-v14-latin-300italic.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/woff2/inria-sans-v14-latin-regular.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/woff2/inria-sans-v14-latin-700.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/woff2/inria-sans-v14-latin-italic.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/woff2/inria-sans-v14-latin-700italic.woff2 as=font type=font/woff2 crossorigin><title>Logging using java.util.logging | Pgjdbc</title><meta name=viewport content="width=device-width,minimum-scale=1"><link rel=stylesheet href=/sass/main.0bfbdc580d7cbb44a598bf42dc4130a38c8004639e49296678a750b316134457.css integrity="sha256-C/vcWA18u0SlmL9C3EEwo4yABGOeSSlmeKdQsxYTRFc="><link rel=icon href=/favicon.ico></head><body><nav class=navbar role=navigation><a href=/><img src=/images/postgreslogo.svg></a><div class=navbar__items><a class=nav__item href=/download/>Download</a>
<a class=nav__item href=/documentation/>Documentation</a>
<a class=nav__item href=/community/>Community</a>
<a class=nav__item href=/development/>Development</a></div><a href=https://github.com/pgjdbc/pgjdbc target=_blank><img src=/images/github.svg></a></nav><main role=main><div class=flex><nav role=navigation class=sidebar><ul role=list><li role=listitem><a href=/documentation/chapter1/>Introduction</a><ul role=list><li role=listitem><a href=/documentation/chapter1/intro/>Introduction</a></li></ul></li><li role=listitem><a href=/documentation/chapter2/>Setting up the JDBC Driver</a><ul role=list><li role=listitem><a href=/documentation/chapter2/setup/>Getting the Driver</a></li><li role=listitem><a href=/documentation/chapter2/classpath/>Setting up the Class Path</a></li><li role=listitem><a href=/documentation/chapter2/prepare/>Preparing the Database Server for JDBC</a></li><li role=listitem><a href=/documentation/chapter2/your-database/>Creating a Database</a></li></ul></li><li role=listitem><a href=/documentation/chapter3/>Initializing the Driver</a><ul role=list><li role=listitem><a href=/documentation/chapter3/use/>Importing JDBC</a></li><li role=listitem><a href=/documentation/chapter3/load/>Loading the Driver</a></li><li role=listitem><a href=/documentation/chapter3/connect/>Connecting to the Database</a></li></ul></li><li role=listitem><a href=/documentation/chapter4/>Using SSL</a><ul role=list><li role=listitem><a href=/documentation/chapter4/ssl/>Configuring the Server</a></li><li role=listitem><a href=/documentation/chapter4/ssl-client/>Configuring the Client</a></li><li role=listitem><a href=/documentation/chapter4/ssl-factory/>Custom SSLSocketFactory</a></li></ul></li><li role=listitem><a href=/documentation/chapter5/>Issuing a Query and Processing the Result</a><ul role=list><li role=listitem><a href=/documentation/chapter5/query/>Issuing a Query and Processing the Result</a></li><li role=listitem><a href=/documentation/chapter5/statement/>Using the Statement or PreparedStatement Interface</a></li><li role=listitem><a href=/documentation/chapter5/resultset/>Using the ResultSet Interface</a></li><li role=listitem><a href=/documentation/chapter5/update/>Performing Updates</a></li><li role=listitem><a href=/documentation/chapter5/ddl/>Creating and Modifying Database Objects</a></li><li role=listitem><a href=/documentation/chapter5/java8-date-time/>Using Java 8 Date and Time classes</a></li></ul></li><li role=listitem><a href=/documentation/chapter6/>Calling Stored Functions and Procedures</a><ul role=list><li role=listitem><a href=/documentation/chapter6/callproc/>Calling Stored Functions and Procedures</a></li></ul></li><li role=listitem><a href=/documentation/chapter7/>Storing Binary Data</a><ul role=list><li role=listitem><a href=/documentation/chapter7/binary-data/>Storing Binary Data</a></li></ul></li><li role=listitem><a href=/documentation/chapter8/>JDBC escapes</a><ul role=list><li role=listitem><a href=/documentation/chapter8/escapes/>JDBC escapes</a></li><li role=listitem><a href=/documentation/chapter8/outer-joins-escape/>Escape for outer joins</a></li><li role=listitem><a href=/documentation/chapter8/escapes-datetime/>Date-time escapes</a></li><li role=listitem><a href=/documentation/chapter8/escaped-functions/>Escaped scalar functions</a></li></ul></li><li role=listitem><a href=/documentation/chapter9/>PostgreSQL™ Extensions to the JDBC API</a><ul role=list><li role=listitem><a href=/documentation/chapter9/ext/>PostgreSQL™ Extensions to the JDBC API</a></li><li role=listitem><a href=/documentation/chapter9/geometric/>Geometric Data Types</a></li><li role=listitem><a href=/documentation/chapter9/largeobjects/>Large Objects</a></li><li role=listitem><a href=/documentation/chapter9/listennotify/>Listen / Notify</a></li><li role=listitem><a href=/documentation/chapter9/server-prepare/>Server Prepared Statements</a></li><li role=listitem><a href=/documentation/chapter9/parameterstatus/>Parameter Status Messages</a></li><li role=listitem><a href=/documentation/chapter9/replication/>Physical and Logical replication API</a></li><li role=listitem><a href=/documentation/chapter9/arrays/>Arrays</a></li></ul></li><li role=listitem><a href=/documentation/chapter10/>Using the Driver in a Multithreaded or a Servlet Environment</a><ul role=list><li role=listitem><a href=/documentation/chapter10/thread/>Using the Driver in a Multithreaded or a Servlet Environment</a></li></ul></li><li role=listitem><a href=/documentation/chapter11/>Connection Pools and Data Sources</a><ul role=list><li role=listitem><a href=/documentation/chapter11/datasource/>Connection Pools and Data Sources</a></li><li role=listitem><a href=/documentation/chapter11/ds-cpds/>Application Servers ConnectionPoolDataSource</a></li><li role=listitem><a href=/documentation/chapter11/ds-ds/>Applications DataSource</a></li><li role=listitem><a href=/documentation/chapter11/jndi/>Data Sources and JNDI</a></li><li role=listitem><a href=/documentation/chapter11/tomcat/>Tomcat setup</a></li></ul></li><li role=listitem><a href=/documentation/chapter12/>Logging using java.util.logging</a><ul role=list><li role=listitem><a href=/documentation/chapter12/logging/>Logging using java.util.logging</a></li></ul></li><li role=listitem><a href=/documentation/chapter13/>Further Reading</a><ul role=list><li role=listitem><a href=/documentation/chapter13/reading/>Further Reading</a></li></ul></li></ul></nav><article><h1>Logging using java.util.logging</h1><br><p><h1 id=overview>Overview</h1><p>The PostgreSQL JDBC Driver supports the use of logging (or tracing) to help resolve issues with the
PgJDBC Driver when is used in your application.</p><p>The PgJDBC Driver uses the logging APIs of <code>java.util.logging</code> that is part of Java since JDK 1.4,
which makes it a good choice for the driver since it doesn&rsquo;t add any external dependency for a logging
framework. <code>java.util.logging</code> is a very rich and powerful tool, it&rsquo;s beyond the scope of these docs
to explain how to use it to it&rsquo;s full potential, for that please refer to
<a href=https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html>Java Logging Overview</a>.</p><p>This logging support was added since version 42.0.0 of the PgJDBC Driver, and previous
versions uses a custom mechanism to enable logging that it is replaced by the use of
<code>java.util.logging</code> in current versions, the old mechanism is no longer available.</p><p>Please note that while most people asked the use of a Logging Framework for a long time, this
support is mainly to debug the driver itself and not for general sql query debug.</p><h1 id=configuration>Configuration</h1><p>The Logging APIs offer both static and dynamic configuration control. Static control enables field
service staff to set up a particular configuration and then re-launch the application with the new
logging settings. Dynamic control allows for updates to the logging configuration within a currently
running program.</p><p>The root logger used by the PgJDBC driver is <code>org.postgresql</code>.</p><h2 id=enable-logging-by-using-loggingproperties-file>Enable logging by using logging.properties file <a class=header-link href=#enable-logging-by-using-loggingproperties-file><svg height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>The default Java logging framework stores its configuration in a file called <code>logging.properties</code>.
Settings are stored per line using a dot notation format. Java installs a global configuration file
in the <code>lib</code> folder of the Java installation directory, although you can use a separate configuration
file by specifying the <code>java.util.logging.config.file</code> property when starting a Java program.
<code>logging.properties</code> files can also be created and stored with individual projects.</p><p>The following is an example of setting that you can make in the <code>logging.properties</code>:</p><pre><code class=language-properties data-lang=properties># Specify the handler, the handlers will be installed during VM startup.
handlers = java.util.logging.FileHandler

# Default global logging level.
.level = OFF

# Default file output is in user's home directory.
java.util.logging.FileHandler.pattern = %h/pgjdbc%u.log
java.util.logging.FileHandler.limit = 5000000
java.util.logging.FileHandler.count = 20
java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter
java.util.logging.FileHandler.level = FINEST

java.util.logging.SimpleFormatter.format = %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS %4$s %2$s %5$s%6$s%n

# Facility specific properties.
org.postgresql.level = FINEST
</code></pre><p>And when you run your application you pass the system property:
<code>java -jar -Djava.util.logging.config.file=logging.properties run.jar</code></p></p><br><div class=pagination><p><a title="Next page in Tomcat setup" href=/documentation/chapter11/tomcat/>Tomcat setup | 37</a></p><p><a title="Previous page in Further Reading" href=/documentation/chapter13/reading/>Further Reading | 39</a></p></div></article><aside></aside></div></main><footer class=footer role=contentinfo><div class=footer__items><div class=footer__items__links><ul><li>Pgjdbc</li><li><a href=https://jdbc.postgresql.org/documentation/publicapi/index.html>Public API</a></li><li><a href=https://www.postgresql.org/>About PostgreSql</a></li></ul></div><div class=footer__items__links><ul><li>Community</li><li><a href=https://jdbc.postgresql.org/documentation/publicapi/index.html>Slack</a></li><li><a href=https://www.postgresql.org/>Twitter</a></li><li><a href=https://www.postgresql.org/>Mailing List</a></li></ul></div><div class=footer__items__links><ul><li>More</li><li><a href=https://jdbc.postgresql.org/documentation/publicapi/index.html>FAQ</a></li><li><a href=https://www.postgresql.org/>Privacy</a></li><li><a href=https://www.postgresql.org/>License</a></li></ul></div></div><p class=copyright>Copyright © 1996-2022 The PostgreSQL Global Development Group</p></footer></body></html>